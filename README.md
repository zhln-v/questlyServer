# Questly

**Questly** — это социальная сеть, где пользователи могут задавать друг другу вопросы. В проекте реализована система аккаунтов, взаимодействие через вопросы и ответы, а также возможность создавать и управлять контентом. Приложение построено с использованием **Laravel**, **GraphQL**, и **PostgreSQL**.

## Стек технологий

-   **Backend:** Laravel (PHP), GraphQL
-   **База данных:** PostgreSQL
-   **Контейнеризация:** Docker

## Методология разработки

Проект использует методологию **GitFlow**, которая помогает организовать процесс разработки с несколькими ветками для каждой задачи:

-   **main**: Основная ветка.
-   **feature-xxx**: Ветки для добавления новых функциональностей.
-   **hotfix-xxx**: Ветки для исправления ошибок на продакшн.

### Правила коммитов

Каждый коммит должен быть логически завершённым и соответствовать типу работы, выполняемой в ветке. Например:

-   `feature-1234-описание_задачи` — для разработки новых фич.
-   `hotfix-1235-описание_исправления` — для багфиксов.

## Запуск приложения в Docker

Чтобы запустить проект в Docker, выполните следующие шаги:

### 1. Клонируйте репозиторий

1. **Клонирование проекта**

```bash
    git clone https://github.com/your-username/questly.git
    cd questly
```

2. **Настройка переменных окружения**
   После клонирования нужно настроить переменные окружения

```bash
    touch .env
```

3. **Отредактировать файл .env**
   После нужно открыть файл `.env`

    И по примеру из .env.example заполнить, можно просто скопировать содержимое файла и узнать у меня данные для подключения к БД

### 2. Запуск приложения в Docker

После того как вы настроили проект, выполните следующие шаги для запуска приложения в Docker:

1. **Запуск контейнеров**

    Используйте команду `docker-compose` для запуска всех сервисов, указанных в `docker-compose.yml`:

```bash
docker-compose up -d
```

2. **Миграции и начальная настройка**

    После того как контейнеры запустятся, выполните миграции базы данных: (не выполнять)

```bash
docker-compose exec questly-app php artisan migrate
```

3. **Запуск приложения**

    Приложение будет доступно по адресу `http://localhost:8080`, если используется стандартная настройка Docker. Перейдите в браузер и проверьте работоспособность приложения.

4. **Установка зависимостей (не обязательно)**

Тольков том случае если зависимости по каким-либо причинам не установились

`Выполнить в запущенном контейнере`

```bash
docker exec -it questly-app composer install --no-interaction --prefer-dist
```

### 3. Разработка и работа с ветками

Процесс разработки основывается на методологии **GitFlow**. Для работы с новыми задачами и фичами:

1. **Создание новой ветки для фичи**

    Переключитесь на ветку `develop` и создайте новую ветку для разработки:

```bash
git checkout develop
git checkout -b feature/1234-новая-фича
```

2. **Работа над задачей**

    Вносите изменения в код, коммитьте их:

```bash
git add .
git commit -m "Описание изменений"
```

3. **Отправка изменений**

    После завершения работы над фичей отправьте ветку в удалённый репозиторий:

```bash
git push origin feature/1234-новая-фича
```

4. **Создание Pull Request**

    Перейдите в GitHub и создайте Pull Request для слияния вашей ветки с `develop`.

### 4. Дополнительные настройки

Если у вас возникнут проблемы с настройкой Docker или базы данных, проверьте логи с помощью:

```bash
docker-compose logs
```

Для остановки контейнеров:

```bash
docker-compose down
```
